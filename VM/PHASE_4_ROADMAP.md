# Phase 4: From Math to Cryptography

**Текущий статус (v3.0):** Реализована арифметика полиномов в RNS (NTT, Add, Mult).
**Цель Фазы 4:** Реализовать полную схему BFV с управлением шумом и ключами в железе.

## План Развития

### 1. Генерация Шума (Hardware RNG)
*   **Проблема:** Сейчас шифрование делает SEAL (CPU). Безопасность требует генерации шума внутри чипа.
*   **Задача:** Реализовать Gaussian Sampler (CDT или Knuth-Yao алгоритм) в Verilog.
*   **Интеграция:** Команда `OPC_ENC` (Encrypt Zero / Encrypt Message).

### 2. Управление Ключами (Key Memory)
*   **Проблема:** Ключи живут в SEAL.
*   **Задача:** Выделить память под Secret Key и Relin Keys внутри ускорителя.
*   **Безопасность:** Ключи загружаются один раз и никогда не покидают чип (Write-only memory).

### 3. RNS Scaling & Modulus Switching
*   **Проблема:** После умножения растет шум. Требуется деление на $t$ и смена модуля.
*   **Задача:** Реализовать блок масштабирования (самая сложная часть RNS BFV).
*   **Результат:** Возможность выполнять цепочки умножений (L > 1).

### 4. Relinearization (Key Switching)
*   **Проблема:** Умножение $C_1 \cdot C_2$ создает шифртекст из 3 полиномов. Его нужно свернуть обратно в 2.
*   **Задача:** Аппаратная реализация умножения на Relin Key (Gadget decomposition).

### 5. Интерфейс (AXI4 / PCIe)
*   **Проблема:** Сейчас связь через DPI (эмуляция).
*   **Задача:** Обернуть `logos_core` в стандартный AXI-интерфейс для деплоя на реальную FPGA (Xilinx Alveo).
