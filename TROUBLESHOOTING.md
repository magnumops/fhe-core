# TROUBLESHOOTING GUIDE

–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ —ç–º—É–ª—è—Ç–æ—Ä–µ Logos FHE.

---

## üî¥ Phase 6: Dual Core & System Integration Issues

### 1. Linker Error: `undefined symbol: dpi_read_ram` –∏–ª–∏ `py_read_ram`
**–°–∏–º–ø—Ç–æ–º—ã:**
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ Python-—Å–∫—Ä–∏–ø—Ç–∞ –ø–∞–¥–∞–µ—Ç –æ—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ `.so` —Ñ–∞–π–ª–∞.
```text
ImportError: ... undefined symbol: dpi_read_ram
```

**–ü—Ä–∏—á–∏–Ω–∞:**
–ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω (Name Mangling) –º–µ–∂–¥—É Verilog –∏ C++.
*   Verilog: –æ–∂–∏–¥–∞–µ—Ç `dpi_...` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç DPI).
*   C++ Driver: –≤—ã–∑—ã–≤–∞–µ—Ç `py_...` (–Ω–∞—à–∞ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è).
*   –õ–∏–Ω–∫–æ–≤—â–∏–∫ –Ω–µ –º–æ–∂–µ—Ç —Å–≤—è–∑–∞—Ç—å –∏—Ö, –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å —Ç–æ—á–Ω—ã–º –∏–º–µ–Ω–µ–º.

**–†–µ—à–µ–Ω–∏–µ (Hybrid Bridge):**
–í —Ñ–∞–π–ª–µ `src/dpi_impl.cpp` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã **–û–ë–ê** –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏–º–µ–Ω.
```cpp
// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
extern "C" void dpi_write_ram(...) { ... }
// –ê–ª–∏–∞—Å –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
extern "C" void py_write_ram(...) { dpi_write_ram(...); }
```

### 2. Runtime Error: `[CPP FATAL] Command Timeout`
**–°–∏–º–ø—Ç–æ–º—ã:**
–°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≤–∏—Å–∞–µ—Ç, –∏ C++ –¥—Ä–∞–π–≤–µ—Ä –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É —Ç–∞–π–º–∞—É—Ç–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–º–∞–Ω–¥—ã.

**–ü—Ä–∏—á–∏–Ω—ã:**
1.  **Strict DMA:** –Ø–¥—Ä–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ "–ó–∞–ø—Ä–æ—Å-–û—Ç–≤–µ—Ç" (–ø–æ –æ–¥–Ω–æ–º—É —Å–ª–æ–≤—É), –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤ (Twiddles) –∑–∞–Ω–∏–º–∞–µ—Ç >30k —Ç–∞–∫—Ç–æ–≤, –∞ –¥—Ä–∞–π–≤–µ—Ä –∂–¥–µ—Ç –º–µ–Ω—å—à–µ.
2.  **Arbiter Starvation:** –ü—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ Core 1 –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —à–∏–Ω–µ –∏–∑-–∑–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ Core 0.

**–†–µ—à–µ–Ω–∏–µ:**
1.  –£–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –≤ Python SDK / C++ –¥—Ä–∞–π–≤–µ—Ä–µ –¥–æ 100,000+ —Ç–∞–∫—Ç–æ–≤.
2.  –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Round-Robin** –∞—Ä–±–∏—Ç—Ä –≤ RTL.

### 3. Data Corruption: "Striped Data" (–ü–æ–ª–æ—Å–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ)
**–°–∏–º–ø—Ç–æ–º—ã:**
–ü—Ä–∏ –≤—ã–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö (`OPC_STORE`) –≤ –ø–∞–º—è—Ç—å –ø–æ–ø–∞–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–∂–¥–æ–µ –≤—Ç–æ—Ä–æ–µ —Å–ª–æ–≤–æ (—á–µ—Ç–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ, –Ω–µ—á–µ—Ç–Ω—ã–µ ‚Äî 0 –∏–ª–∏ –º—É—Å–æ—Ä).

**–ü—Ä–∏—á–∏–Ω–∞:**
–ö–æ–Ω—Ñ–ª–∏–∫—Ç Flow Control. –°–∏–≥–Ω–∞–ª `valid` (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏) –æ—Ç DPI-–æ–±–µ—Ä—Ç–∫–∏ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ê—Ä–±–∏—Ç—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —à–∏–Ω—É –Ω–∞ 1 —Ç–∞–∫—Ç. –ö–æ–Ω–≤–µ–π–µ—Ä Burst-–∑–∞–ø–∏—Å–∏ –≤ —è–¥—Ä–µ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –∑–∞—Ç–æ—Ä–º–æ–∑–∏—Ç—å –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ "–º—ë—Ä—Ç–≤—ã–π" —Ç–∞–∫—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
–û—Ç–∫–ª—é—á–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é `valid` –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏ –≤ `dpi_mem_wrapper.v`. –ó–∞–ø–∏—Å—å –≤ —ç–º—É–ª—è—Ç–æ—Ä–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞ (C++), –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è ("Fire-and-Forget").

### 4. Logic Error: –ü—Ä–æ–ø—É—Å–∫ –∏–ª–∏ –ø–æ–¥–º–µ–Ω–∞ –∫–æ–º–∞–Ω–¥
**–°–∏–º–ø—Ç–æ–º—ã:**
–Ø–¥—Ä–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ —Ç—É –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –æ—Ç–ø—Ä–∞–≤–∏–ª –¥—Ä–∞–π–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `LOAD` –≤–º–µ—Å—Ç–æ `CONFIG`), –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É.

**–ü—Ä–∏—á–∏–Ω–∞:**
Race Condition. –î—Ä–∞–π–≤–µ—Ä –º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —à–∏–Ω–µ (`cmd_data`) —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è `ready`. Verilog-–∫–æ–Ω–≤–µ–π–µ—Ä (`command_processor` -> `ntt_engine`) –∏–º–µ–µ—Ç –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å 1-2 —Ç–∞–∫—Ç–∞. –Ø–¥—Ä–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ–≥–¥–∞ –æ–Ω–∏ —É–∂–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å.

**–†–µ—à–µ–Ω–∏–µ:**
1.  **Driver:** –î–æ–±–∞–≤–∏—Ç—å `Hold Cycle` (–ª–∏—à–Ω–∏–π `tick()`) –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–∞–Ω–¥—ã.
2.  **RTL:** –í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `IDLE` —è–¥—Ä–æ –¥–æ–ª–∂–Ω–æ **–∑–∞—â–µ–ª–∫–∏–≤–∞—Ç—å (latch)** –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥—ã –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã.

---

## üü† General Issues (Phases 1-5)

### 5. Verilator: `File not found` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
**–ü—Ä–∏—á–∏–Ω–∞:**
–í `CMakeLists.txt` –Ω–µ —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –ø–æ–∏—Å–∫–∞ (`-y`) –¥–ª—è Verilator, –∏–ª–∏ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–ø–∏—Å–æ–∫ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `file(GLOB ...)` –≤ CMake –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö `.v` –∏ `.cpp` —Ñ–∞–π–ª–æ–≤, –ª–∏–±–æ —è–≤–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–ø–∏—Å–æ–∫. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å `-y src/rtl/ntt`.

### 6. Docker: `ImportError: No module named logos_emu`
**–ü—Ä–∏—á–∏–Ω–∞:**
*   –ù–µ–≤–µ—Ä–Ω—ã–π `PYTHONPATH`.
*   –û—à–∏–±–∫–∞ "Volume Shadowing": –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å `-v $(pwd):/app` –ø—É—Å—Ç–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ `build` –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–ø–∫—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**–†–µ—à–µ–Ω–∏–µ:**
–ù–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤, –ª–∏–±–æ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç *–ø–æ—Å–ª–µ* –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞).

### 7. Math: –†–µ–∑—É–ª—å—Ç–∞—Ç NTT ‚Äî –Ω—É–ª–∏
**–ü—Ä–∏—á–∏–Ω–∞:**
–ù–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RNS (`q`, `mu`). –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ (0) –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —É–º–Ω–æ–∂–µ–Ω–∏—é –Ω–∞ –Ω–æ–ª—å.

**–†–µ—à–µ–Ω–∏–µ:**
–ü–µ—Ä–µ–¥ –ª—é–±—ã–º —Ç–µ—Å—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å `OPC_CONFIG`. –í —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `driver.write_ram` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥–∞.
